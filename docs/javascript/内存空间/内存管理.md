# 内存管理

JavaScript 在创建变量时自动分配了内存, 并且在不使用时**自动**释放.

## 内存生命周期

1. 分配所需要的内存
2. 使用分配到的内存
3. 不需要时将其释放/归还

## 基础数据类型与变量对象

```js
function test() {
	var a = 1
	var b = "loser"
	var c = null
}
```

1. 函数执行时, 会创建一个执行环境,这个执行环境称为`执行上下文`.

2. 在执行上下文中会创建一个叫做`变量对象`的特殊对象.

3. 基础数据类型往往都保存在变量对象中.

4. 变量对象也保存在堆内存中.

## 引用数据类型与堆内存

1. 引用数据类型的值是保存在堆内存中的对象.

2. JavaScript 中不允许直接访问堆内存中的数据, 因此不能直接操作对象的堆内存空间.

3. 在操作对象时, 实际上是在操作对象的引用而不是实际的对象.

![V8](/javascript/v8-memory.png)

![内存分配](/javascript/call-stack.jpeg)
